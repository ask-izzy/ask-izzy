@use '../styles/mixins/colours';

.HeaderBar {
    $text-shadow: 1px 1px rgba(0, 0, 0, 0.3);

    position: relative;
    min-height: 220px;
    padding-bottom: 2vw;
    color: #{colours.get-static('colour-text-very-light')};
    color: var(--colour-text-very-light);
    z-index: 1;
    box-sizing: border-box;

    &.showTaper {
        min-height: 220px;
        padding-bottom: 2vw;
        overflow-x: hidden;

        /* used to hide ::after pseudo-element that creates the
        diagonal taper at the bottom of the header */

        /* Diagonal cut-out taper at the bottom of the banner */
        &::after {
            position: absolute;
            bottom: 0%;
            left: 0%;
            border-top: 3.5vw solid transparent;
            border-right: 100vw solid #{colours.get-static('raw-colour-pure-white')};
            border-right: 100vw solid var(--raw-colour-pure-white);
            content: '';
        }
    }

    &.fixed {
        margin-top: $appbar-height;
    }

    a,
    .link-color {
        color: #{colours.get-static('colour-text-very-light')};
        color: var(--colour-text-very-light);
    }

    .info {
        margin: 15px 20px;
        font-size: 16px;
        font-style: italic;
        text-shadow: $text-shadow;
    }

    p {
        margin: 0;
        padding: 0;

        & + p {
            margin-top: 15px;
        }
    }

    &.taperColourGrey::after {
        border-right-color: #{colours.get-static('colour-bg-standard-tint-2')};
        border-right-color: var(--colour-bg-standard-tint-2);
    }

    &.taperColourDarkGrey::after {
        border-right-color: #{colours.get-static('raw-colour-slate-gray')};
        border-right-color: var(--raw-colour-slate-gray);
    }

    &.taperColourLighterGrey::after {
        border-right-color: #{colours.get-static('colour-bg-standard-tint-1')};
        border-right-color: var(--colour-bg-standard-tint-1);
    }

    &.taperColourPurple::after {
        border-right-color: #{colours.get-static('raw-colour-rich-purple')};
        border-right-color: var(--raw-colour-rich-purple);
    }

    /**
    * $bannerImages is injected in at webpack compile time based on the
    * filenames in the public/images/banners dir
    */
    @each $banner-image in $banner-images {
        @include colours.define(
            'colour-banner-bg-overlay',
            'HeaderBar',
            colours.set-transparency('raw-colour-pure-black', 'HeaderBar', 0.4),
        );

        &.#{$banner-image} {
            background:
                linear-gradient(
                    #{colours.get-static('colour-banner-bg-overlay', 'HeaderBar')},
                    #{colours.get-static('colour-banner-bg-overlay', 'HeaderBar')}
                ),
                url('/public/static/images/banners/#{$banner-image}.png')
                center
                center;
            background:
                linear-gradient(
                    var(--colour-banner-bg-overlay),
                    var(--colour-banner-bg-overlay)
                ),
                url('/public/static/images/banners/#{$banner-image}.png')
                center
                center;
            background-size: cover;

            @media only screen and (max-width: 400px) {
                &:not(.static) {
                    background-position: left top;
                    background-size: auto 200%;
                }
            }
        }
    }
}
